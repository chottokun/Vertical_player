# YouTube縦長動画プレイヤー（最適化版）

YouTube動画とローカル動画ファイルを縦長画面いっぱいに表示するだけのブラウザで動く動画プレイヤーです。

## 主な機能

### 🎥 動画再生機能
- **YouTube動画再生**: URLを入力してYouTube動画を再生
- **ローカル動画再生**: MP4、WebM、OGVなどのローカル動画ファイルを再生
- **縦長画面最適化**: 動画を縦長画面の高さに合わせて拡大表示
- **拡大率調整**: 100%〜500%まで自由に拡大率を調整可能

### 🎮 操作機能
- **パン操作**: キーボード、マウス、タッチで動画を上下左右に移動
- **フルスクリーン表示**: F11キーまたはボタンでフルスクリーン切り替え
- **基本的な動画コントロール**: 再生/停止、音声ON/OFF、最初から再生
- **位置リセット**: ワンクリックで動画位置を中央に戻す

### 📋 プレイリスト機能
- **プレイリスト作成**: 現在の動画をプレイリストに追加
- **連続再生**: プレイリストの動画を順次自動再生
- **ループ再生**: プレイリスト終了後、最初から繰り返し再生
- **再生モード選択**: 「繰り返し再生」または「次の動画へ」を選択可能

### 💾 保存・読み込み機能
- **ブラウザ保存**: プレイリストをブラウザのローカルストレージに保存
- **ファイル保存**: プレイリストをJSONファイルとしてダウンロード
- **ファイル読み込み**: JSONファイルまたはテキストファイルからプレイリストを読み込み
- **自動読み込み**: ページ読み込み時に保存されたプレイリストを自動復元

### 🎨 UI/UX機能
- **自動非表示**: 3秒間操作がないとコントロールが自動で非表示
- **最適化されたレイアウト**: 機能別に整理されたボタン配置
- **モバイル対応**: スマートフォンやタブレットでも快適に操作
- **キーボードショートカット**: 豊富なキーボード操作に対応

## 操作方法

### 基本操作
- **スペースキー**: 再生/停止
- **Mキー**: 音声ON/OFF
- **Rキー**: 最初から再生
- **Fキー**: フルスクリーン切り替え
- **Cキー**: 位置リセット

### パン操作（動画移動）
- **矢印キー**: ←→で左右移動、↑↓で上下移動
- **WASDキー**: A・Dで左右移動、W・Sで上下移動
- **マウスドラッグ**: 動画エリアをドラッグして全方向に移動
- **タッチスワイプ**: スマホでの全方向スワイプ

### 拡大率調整
- **+キー**: 拡大（10%ずつ）
- **-キー**: 縮小（10%ずつ）
- **スライダー**: マウスで直接調整

### プレイリスト操作
1. YouTube URLを入力して「動画読み込み」
2. 「プレイリストに追加」で現在の動画をリストに追加
3. 「再生終了時」で動作を選択（繰り返し再生 or 次の動画へ）
4. 「プレイリスト保存」でファイルに保存、「プレイリスト読み込み」で復元

## ファイル形式

### プレイリストファイル（JSON形式）
```json
{
  "version": "1.0",
  "created": "2025-01-01T00:00:00.000Z",
  "playlist": [
    "https://www.youtube.com/watch?v=VIDEO_ID1",
    "https://www.youtube.com/watch?v=VIDEO_ID2"
  ]
}
```

### プレイリストファイル（テキスト形式）
```
https://www.youtube.com/watch?v=VIDEO_ID1
https://www.youtube.com/watch?v=VIDEO_ID2
https://youtu.be/VIDEO_ID3
```

## 対応ブラウザ
- Chrome 80+
- Firefox 75+
- Safari 13+
- Edge 80+

## 対応動画形式（ローカル再生）
- MP4 (H.264/H.265)
- WebM (VP8/VP9)
- OGV (Theora)
- その他HTML5 videoタグ対応形式

## 使用技術
- HTML5 Video API
- YouTube IFrame Player API
- File API (FileReader)
- Local Storage API
- CSS Grid Layout
- JavaScript ES6+

## ライセンス
MIT License

## 注意事項
- YouTube動画の利用は、YouTubeの利用規約に従ってください
- ローカル動画ファイルはブラウザのセキュリティ制限により、プレイリストに追加できません
- プレイリストの保存・読み込みは、ブラウザの設定によっては制限される場合があります
- 大きなファイルサイズの動画は、ブラウザのメモリ制限により正常に再生できない場合があります

## トラブルシューティング

### 動画が表示されない場合
1. ブラウザのJavaScriptが有効になっているか確認
2. YouTubeのURLが正しいか確認
3. iFrame表示が禁止されている動画は再生できません。

### ローカル動画が再生されない場合
1. 対応形式の動画ファイルか確認
2. ファイルサイズが大きすぎないか確認
3. ブラウザを再起動して再試行

### プレイリストが保存されない場合
1. ブラウザのプライベートモードを無効にする

## 更新履歴
- v1.0: 基本的なYouTube動画再生機能
- v2.0: ローカル動画再生機能追加
- v3.0: プレイリスト機能追加
- v4.0: ファイル保存・読み込み機能追加
- v5.0: UI最適化、自動非表示機能追加（現在のバージョン）

